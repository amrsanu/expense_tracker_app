{% extends "base.html" %}
{% load static %}

{% block title %}
    Upload Statement
{% endblock title %}

{% block css_files %}
  <link rel="stylesheet" href="{% static 'include\header.css' %}">
  <link rel="stylesheet" href="{% static 'include\navigation.css' %}">
  <link rel="stylesheet" href="{% static 'upload_file.css' %}">

{% endblock css_files %}

{% block content %}
  {% include "header.html" %}
  {% include "navigation.html" %}

  <h2>Bank Details</h2>

  <div id="form-container">
    {% if upload_error %}
     <p>Error: File format not supported. Upload CSV or TXT format. </p>
    {% endif %}
    <form method="post" enctype="multipart/form-data">
      {% csrf_token %}
      <table>
        <tr>
          <td><label for="bank">Select Bank:</label></td>
          <td>
            <select name="bank">
              <option value="{{ bank_option }}">{{ bank_option }}</option>
              {% for bank in banks %}
                <option value="{{ bank }}">{{ bank }}</option>
              {% endfor %}
            </select>
          </td>
        </tr>
        <tr>
          <td><label for="statement">Bank Statement:</label></td>
          <td><input type="file" id="statement" name="statement"></td>
        </tr>
        <tr>
          <td></td>
          <td><button type="submit">Submit</button></td>
        </tr>
      </table>
    </form>
    
  </div>

  <h2>Uploaded Bank Statements</h2>
  <form method="post">
    {% csrf_token %}
    <table>
      {% for statement_file in statement_files %}
        <tr>
          <td><input type="checkbox" name="file" value="{{ statement_file }}" /></td>
          <td><label>{{ statement_file }}</label></td>
        </tr>
      {% endfor %}
      <tr>
        <td></td>
        <td><button type="submit" name="action" value="delete-selected">Delete selected</button></td>
      </tr>
    </table>
  </form>
  
  
  
{% endblock %}
